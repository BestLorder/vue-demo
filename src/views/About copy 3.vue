<!--
 * @Descripttion: 
 * @Author: Lorder
 * @Date: 2019-12-05 16:21:22
 * @LastEditors  : Lorder
 * @LastEditTime : 2020-01-03 11:19:20
 -->
<template>
  <div class="about">
    <h1>This is an about page</h1>
    <div class="canvasBox">
      <img
        src="https://qnunion.feierlaiedu.com/kcschool/lv568kTgymDgNrlP4KXmpWujUaeyQuGr"
        alt=""
        class="ppt"
      />
      <canvas id="canvas" width="375" height="782"></canvas>
    </div>
  </div>
</template>
<script>
export default {
  data() {
    return {};
  },
  created() {
    // const loading = this.$loading();
    // setTimeout(() => {
    //   loading.close();
    // }, 3000);
    console.log(this.$route);
    // this.$router.push({ name: "about", params: { name: "aa", age: 17 } });
  },
  mounted() {
    // let res =
    //   "me_1573647468950_d57|16711680|4|1|M,503.14,414.45,M,503.14,414.45,C,503.13,414.46,502.17,415.42,C,501.2,416.39,502.17,419.28,C,503.13,422.17,504.1,424.1,C,505.06,426.02,506.02,428.92,C,506.99,431.81,508.92,433.73,C,510.84,435.66,510.84,436.63,C,510.84,437.59,511.81,439.52,C,512.77,441.45,514.7,443.37,C,516.63,445.3,517.59,446.27,C,518.55,447.23,519.52,448.19,C,520.48,449.16,528.19,449.16,C,535.9,449.16,548.43,446.27,C,560.96,443.37,564.82,440.48,C,568.67,437.59,569.64,436.63,C,570.6,435.66,571.57,434.7,C,572.53,433.73,572.53,430.84,C,572.53,427.95,573.49,426.99,C,574.46,426.02,576.39,422.17,C,578.31,418.31,580.24,416.39,C,582.17,414.46,584.1,411.57,C,586.02,408.67,586.99,406.75,C,587.95,404.82,588.92,402.89,C,589.88,400.96,590.84,397.11,C,591.81,393.25,592.77,390.36,C,593.73,387.47,593.73,385.54,C,593.73,383.61,593.73,382.65,C,593.73,381.69,593.73,380.72,C,593.73,379.76,593.73,378.8,C,593.73,377.83,593.73,376.87,C,593.73,375.9,593.73,373.98,C,593.73,372.05,593.73,371.08,C,593.73,370.12,593.73,369.16,C,593.73,368.19,593.73,366.27,C,593.73,364.34,592.77,364.34,C,591.81,364.34,590.84,362.41,C,589.88,360.48,587.95,359.52,C,586.02,358.55,585.06,357.59,C,584.1,356.63,584.1,355.66,C,584.1,354.7,583.13,353.73,C,582.17,352.77,581.2,352.77,C,580.24,352.77,579.28,351.81,C,578.31,350.84,576.39,349.88,C,574.46,348.92,572.53,348.92,C,570.6,348.92,569.64,348.92,C,568.67,348.92,567.71,348.92,C,566.75,348.92,564.82,348.92,C,562.89,348.92,556.14,348.92,C,549.4,348.92,546.51,347.95,C,543.61,346.99,542.65,346.99,C,541.69,346.99,538.8,346.99,C,535.9,346.99,534.94,346.02,C,533.98,345.06,528.19,345.06,C,522.41,345.06,520.48,345.06,C,518.55,345.06,516.63,345.06,C,514.7,345.06,512.77,345.06,C,510.84,345.06,508.92,345.06,C,506.99,345.06,506.02,345.06,C,505.06,345.06,504.1,345.06,C,503.13,345.06,502.17,345.06,C,501.2,345.06,499.28,345.06,C,497.35,345.06,495.42,345.06,C,493.49,345.06,491.57,345.06,C,489.64,345.06,487.71,345.06,C,485.78,345.06,483.86,345.06,C,481.93,345.06,480,345.06,C,478.07,345.06,476.14,345.06,C,474.22,345.06,472.29,345.06,C,470.36,345.06,469.4,345.06,C,468.43,345.06,466.51,345.06,C,464.58,345.06,462.65,345.06,C,460.72,345.06,459.76,346.02,C,458.8,346.99,457.83,347.95,C,456.87,348.92,456.87,349.88,C,456.87,350.84,455.9,351.81,C,454.94,352.77,454.94,353.73,C,454.94,354.7,454.94,355.66,C,454.94,356.63,454.94,359.52,C,454.94,362.41,453.98,363.37,C,453.01,364.34,453.01,365.3,C,453.01,366.27,453.01,367.23,C,453.01,368.19,452.05,370.12,C,451.08,372.05,451.08,373.01,C,451.08,373.98,450.12,375.9,C,449.16,377.83,449.16,379.76,C,449.16,381.69,449.16,382.65,C,449.16,383.61,453.98,391.33,C,458.8,399.04,460.72,400,C,462.65,400.96,466.51,402.89,C,470.36,404.82,471.33,404.82,C,472.29,404.82,473.25,405.78,C,474.22,406.75,475.18,406.75,C,476.14,406.75,478.07,406.75,C,480,406.75,482.89,407.71,C,485.78,408.67,486.75,408.67,C,487.71,408.67,488.67,408.67,C,489.64,408.67,491.57,409.64,C,493.49,410.6,494.46,410.6,C,495.42,410.6,496.39,410.6,C,497.35,410.6,498.31,410.6,C,499.28,410.6,500.24,410.6,C,501.2,410.6,502.17,411.57,C,503.13,412.53,504.1,412.53,C,505.06,412.53,506.02,412.53,C,506.99,412.53,508.92,412.53,C,510.84,412.53,511.81,412.53,C,512.77,412.53,513.73,413.49,L,514.7,414.46|1";
    // let data_4 = res.split("|")[4];
    // let data = data_4.split("C,");
    // console.log(this.getColor(res.split("|")[1]));
    // var arr = [];
    // data.map(item => {
    //   console.log(item);
    //   item = item.split(",");
    //   let obj = {};
    //   obj.startX = item[0];
    //   obj.startY = item[1];
    //   obj.endX = item[2];
    //   obj.endY = item[3];
    //   arr.push(obj);
    //   return item;
    // });
    // console.log(arr);
    // var c = document.getElementById("canvas");
    // var ctx = c.getContext("2d");
    // ctx.lineWidth = 1;
    // ctx.strokeStyle = this.getColor(res.split("|")[1]);
    // ctx.lineCap = "round";
    // let piece = arr;
    // for (var i = 0; i < piece.length; i++) {
    //   ctx.beginPath();
    //   ctx.moveTo(piece[i].startX, piece[i].startY);
    //   ctx.lineTo(piece[i].endX, piece[i].endY);
    //   ctx.stroke();
    // }
    let a = this.drawSerialize(1, {
      c:
        "me_1573647468950_d57|16711680|4|1|M,503.14,414.45,M,503.14,414.45,C,503.13,414.46,502.17,415.42,C,501.2,416.39,502.17,419.28,C,503.13,422.17,504.1,424.1,C,505.06,426.02,506.02,428.92,C,506.99,431.81,508.92,433.73,C,510.84,435.66,510.84,436.63,C,510.84,437.59,511.81,439.52,C,512.77,441.45,514.7,443.37,C,516.63,445.3,517.59,446.27,C,518.55,447.23,519.52,448.19,C,520.48,449.16,528.19,449.16,C,535.9,449.16,548.43,446.27,C,560.96,443.37,564.82,440.48,C,568.67,437.59,569.64,436.63,C,570.6,435.66,571.57,434.7,C,572.53,433.73,572.53,430.84,C,572.53,427.95,573.49,426.99,C,574.46,426.02,576.39,422.17,C,578.31,418.31,580.24,416.39,C,582.17,414.46,584.1,411.57,C,586.02,408.67,586.99,406.75,C,587.95,404.82,588.92,402.89,C,589.88,400.96,590.84,397.11,C,591.81,393.25,592.77,390.36,C,593.73,387.47,593.73,385.54,C,593.73,383.61,593.73,382.65,C,593.73,381.69,593.73,380.72,C,593.73,379.76,593.73,378.8,C,593.73,377.83,593.73,376.87,C,593.73,375.9,593.73,373.98,C,593.73,372.05,593.73,371.08,C,593.73,370.12,593.73,369.16,C,593.73,368.19,593.73,366.27,C,593.73,364.34,592.77,364.34,C,591.81,364.34,590.84,362.41,C,589.88,360.48,587.95,359.52,C,586.02,358.55,585.06,357.59,C,584.1,356.63,584.1,355.66,C,584.1,354.7,583.13,353.73,C,582.17,352.77,581.2,352.77,C,580.24,352.77,579.28,351.81,C,578.31,350.84,576.39,349.88,C,574.46,348.92,572.53,348.92,C,570.6,348.92,569.64,348.92,C,568.67,348.92,567.71,348.92,C,566.75,348.92,564.82,348.92,C,562.89,348.92,556.14,348.92,C,549.4,348.92,546.51,347.95,C,543.61,346.99,542.65,346.99,C,541.69,346.99,538.8,346.99,C,535.9,346.99,534.94,346.02,C,533.98,345.06,528.19,345.06,C,522.41,345.06,520.48,345.06,C,518.55,345.06,516.63,345.06,C,514.7,345.06,512.77,345.06,C,510.84,345.06,508.92,345.06,C,506.99,345.06,506.02,345.06,C,505.06,345.06,504.1,345.06,C,503.13,345.06,502.17,345.06,C,501.2,345.06,499.28,345.06,C,497.35,345.06,495.42,345.06,C,493.49,345.06,491.57,345.06,C,489.64,345.06,487.71,345.06,C,485.78,345.06,483.86,345.06,C,481.93,345.06,480,345.06,C,478.07,345.06,476.14,345.06,C,474.22,345.06,472.29,345.06,C,470.36,345.06,469.4,345.06,C,468.43,345.06,466.51,345.06,C,464.58,345.06,462.65,345.06,C,460.72,345.06,459.76,346.02,C,458.8,346.99,457.83,347.95,C,456.87,348.92,456.87,349.88,C,456.87,350.84,455.9,351.81,C,454.94,352.77,454.94,353.73,C,454.94,354.7,454.94,355.66,C,454.94,356.63,454.94,359.52,C,454.94,362.41,453.98,363.37,C,453.01,364.34,453.01,365.3,C,453.01,366.27,453.01,367.23,C,453.01,368.19,452.05,370.12,C,451.08,372.05,451.08,373.01,C,451.08,373.98,450.12,375.9,C,449.16,377.83,449.16,379.76,C,449.16,381.69,449.16,382.65,C,449.16,383.61,453.98,391.33,C,458.8,399.04,460.72,400,C,462.65,400.96,466.51,402.89,C,470.36,404.82,471.33,404.82,C,472.29,404.82,473.25,405.78,C,474.22,406.75,475.18,406.75,C,476.14,406.75,478.07,406.75,C,480,406.75,482.89,407.71,C,485.78,408.67,486.75,408.67,C,487.71,408.67,488.67,408.67,C,489.64,408.67,491.57,409.64,C,493.49,410.6,494.46,410.6,C,495.42,410.6,496.39,410.6,C,497.35,410.6,498.31,410.6,C,499.28,410.6,500.24,410.6,C,501.2,410.6,502.17,411.57,C,503.13,412.53,504.1,412.53,C,505.06,412.53,506.02,412.53,C,506.99,412.53,508.92,412.53,C,510.84,412.53,511.81,412.53,C,512.77,412.53,513.73,413.49,L,514.7,414.46|1",
      n: 62,
      p: 19,
      st: 1098.15,
      t: 25,
      x: "112256324"
    });
    console.log(a);
    var c = document.getElementById("canvas");
    var ctx = c.getContext("2d");
    ctx.lineWidth = 4;
    ctx.strokeStyle = a.color;
    ctx.lineCap = "round";
    let piece = a.graph.data;
    for (var i = 0; i < piece.length; i++) {
      ctx.beginPath();
      ctx.moveTo(piece[i].x / 3.5813, piece[i].y / 3.5813);
      ctx.lineTo(piece[i].archX / 3.5813, piece[i].archY / 3.5813);
      ctx.stroke();
    }
  },
  methods: {
    drawSerialize: function(t, e) {
      var A = 1;
      var i = 1,
        n = i,
        r = e.c,
        o = {},
        s = r.split("|"),
        a = s[0],
        c = this.getColor(s[1]),
        l = s[2] * i,
        u = s[3] == A ? !0 : !1,
        h = s[4],
        f = h.split(","),
        d = { lineStyle: { thickness: l, color: c }, moveTo: {}, data: [] },
        p = 0;
      console.log(i);
      console.log(h);
      console.log(f);
      "M" === f[0] && ((d.moveTo = { x: f[1] * i, y: f[2] * n }), (p = 3));
      for (var g = {}; p < f.length; )
        switch (f[p]) {
          case "M":
            (g = {
              name: f[p],
              x: parseInt(f[p + 1]) * i,
              y: parseInt(f[p + 2]) * n
            }),
              d.data.push(g),
              (p += 3);
            break;
          case "L":
            (g = {
              name: f[p],
              x: parseInt(f[p + 1]) * i,
              y: parseInt(f[p + 2]) * n
            }),
              d.data.push(g),
              (p += 3);
            break;
          case "C":
            (g = {
              name: f[p],
              x: parseInt(f[p + 1]) * i,
              y: parseInt(f[p + 2]) * n,
              archX: parseInt(f[p + 3]) * i,
              archY: parseInt(f[p + 4]) * n
            }),
              d.data.push(g),
              (p += 5);
        }
      return (o = {
        objectId: a,
        color: c,
        thickness: l,
        visible: u,
        graph: d
      });
    },
    scaleX: function(t, e) {
      return this.isWhiteBoard(e)
        ? t.width / this.whiteBoardWidth
        : t.width / this.drawWidth;
    },
    isWhiteBoard: function(t) {
      return t > 1e4 ? !0 : !1;
    },
    getColor: function(t) {
      var t = parseInt(t);
      if (((t = t.toString(16)), t.length < 6)) {
        var e = 6 - t.length;
        for (i = 0; e > i; i++) t = "0" + t;
      }
      return (t = "#" + t);
    }
  }
};
</script>
<style lang="less" scoped>
.ppt {
  width: 100%;
}
.canvasBox {
  position: relative;
}
#canvas {
  // transform: scale(1/3.58);
  position: absolute;
  left: 0;
  top: 0;
}
</style>
